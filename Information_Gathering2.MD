# ğŸ“š TÃ¬m hiá»ƒu Information Gathering trong Web Application Security Testing

- **TÃªn tÃ i liá»‡u:** Information Gathering  
- **Thá»±c hiá»‡n:** LÃª Thá»‹ Má»¹ TiÃªn  
- **Cáº­p nháº­t:** 05/08/2025

---

## ğŸ“‘ Má»¥c lá»¥c

1. [Má»¥c tiÃªu thu tháº­p thÃ´ng tin](#1-má»¥c-tiÃªu-thu-tháº­p-thÃ´ng-tin)
2. [CÃ¡ch thá»±c hiá»‡n kiá»ƒm thá»­ thá»§ cÃ´ng](#2-cÃ¡ch-thá»±c-hiá»‡n-kiá»ƒm-thá»­-thá»§-cÃ´ng)
    - [2.1 Trinh sÃ¡t vá»›i cÃ´ng cá»¥ tÃ¬m kiáº¿m](#21-trinh-sÃ¡t-vá»›i-cÃ´ng-cá»¥-tÃ¬m-kiáº¿m)
    - [2.2 Web server fingerprinting](#22-web-server-fingerprinting)
    - [2.3 PhÃ¢n tÃ­ch tá»‡p metadata](#23-phÃ¢n-tÃ­ch-tá»‡p-metadata)
    - [2.4 Liá»‡t kÃª á»©ng dá»¥ng trÃªn mÃ¡y chá»§ web](#24-liá»‡t-kÃª-á»©ng-dá»¥ng-trÃªn-mÃ¡y-chá»§-web)
    - [2.5 Kiá»ƒm tra ná»™i dung website](#25-kiá»ƒm-tra-ná»™i-dung-website)
    - [2.6 XÃ¡c Ä‘á»‹nh Ä‘iá»ƒm vÃ o á»©ng dá»¥ng](#26-xÃ¡c-Ä‘á»‹nh-Ä‘iá»ƒm-vÃ o-á»©ng-dá»¥ng)
    - [2.7 Thá»±c thi Ä‘Æ°á»ng dáº«n á»©ng dá»¥ng](#27-thá»±c-thi-Ä‘Æ°á»ng-dáº«n-á»©ng-dá»¥ng)
    - [2.8 Web Application Framework Fingerprinting](#28-web-application-framework-fingerprinting)
    - [2.9 Láº­p báº£n Ä‘á»“ kiáº¿n trÃºc á»©ng dá»¥ng](#29-láº­p-báº£n-Ä‘á»“-kiáº¿n-trÃºc-á»©ng-dá»¥ng)

---

## 1. ğŸ¯ Má»¥c tiÃªu Thu tháº­p thÃ´ng tin

- **Äá»‹nh nghÄ©a:** Kiá»ƒm tra báº£o máº­t lÃ  phÆ°Æ¡ng phÃ¡p Ä‘Ã¡nh giÃ¡ tÃ­nh báº£o máº­t cá»§a há»‡ thá»‘ng mÃ¡y tÃ­nh hoáº·c máº¡ng báº±ng cÃ¡ch xÃ¡c thá»±c vÃ  kiá»ƒm chá»©ng má»™t cÃ¡ch cÃ³ há»‡ thá»‘ng tÃ­nh hiá»‡u quáº£ cá»§a cÃ¡c biá»‡n phÃ¡p kiá»ƒm soÃ¡t báº£o máº­t á»©ng dá»¥ng. Kiá»ƒm tra báº£o máº­t á»©ng dá»¥ng web chá»‰ táº­p trung vÃ o viá»‡c Ä‘Ã¡nh giÃ¡ tÃ­nh báº£o máº­t cá»§a á»©ng dá»¥ng web. Quy trÃ¬nh nÃ y bao gá»“m viá»‡c chá»§ Ä‘á»™ng phÃ¢n tÃ­ch á»©ng dá»¥ng Ä‘á»ƒ tÃ¬m ra báº¥t ká»³ Ä‘iá»ƒm yáº¿u, lá»—i ká»¹ thuáº­t hoáº·c lá»— há»•ng báº£o máº­t nÃ o. Báº¥t ká»³ váº¥n Ä‘á» báº£o máº­t nÃ o Ä‘Æ°á»£c tÃ¬m tháº¥y sáº½ Ä‘Æ°á»£c trÃ¬nh bÃ y cho chá»§ sá»Ÿ há»¯u há»‡ thá»‘ng, cÃ¹ng vá»›i Ä‘Ã¡nh giÃ¡ tÃ¡c Ä‘á»™ng, Ä‘á» xuáº¥t biá»‡n phÃ¡p kháº¯c phá»¥c hoáº·c giáº£i phÃ¡p ká»¹ thuáº­t
- VÃ­ dá»¥, ngÆ°á»i kiá»ƒm tra cÃ³ thá»ƒ tÃ¬m tháº¥y má»™t trang táº¡i URL sau: https://www.example.com/login/auth_form
Äiá»u nÃ y cÃ³ thá»ƒ chá»‰ ra biá»ƒu máº«u xÃ¡c thá»±c trong Ä‘Ã³ á»©ng dá»¥ng yÃªu cáº§u tÃªn ngÆ°á»i dÃ¹ng vÃ  máº­t kháº©u.
CÃ¡c tham sá»‘ sau Ä‘Ã¢y Ä‘áº¡i diá»‡n cho hai Ä‘iá»ƒm truy cáº­p vÃ o á»©ng dá»¥ng:https://www.example.com/appx?a=1&b=1
- Trong trÆ°á»ng há»£p nÃ y, á»©ng dá»¥ng hiá»ƒn thá»‹ hai Ä‘iá»ƒm truy cáº­p (tham sá»‘ a vÃ  b). Táº¥t cáº£ cÃ¡c Ä‘iá»ƒm Ä‘áº§u vÃ o Ä‘Æ°á»£c tÃ¬m tháº¥y trong giai Ä‘oáº¡n nÃ y Ä‘á»u Ä‘áº¡i diá»‡n cho má»™t má»¥c tiÃªu thá»­ nghiá»‡m. Viá»‡c theo dÃµi thÆ° má»¥c hoáº·c cÃ¢y lá»‡nh gá»i cá»§a á»©ng dá»¥ng vÃ  táº¥t cáº£ cÃ¡c Ä‘iá»ƒm truy cáº­p cÃ³ thá»ƒ há»¯u Ã­ch trong quÃ¡ trÃ¬nh thá»­ nghiá»‡m Ä‘ang diá»…n ra.


---

## 2. ğŸ› ï¸ CÃ¡ch thá»±c hiá»‡n kiá»ƒm thá»­ thá»§ cÃ´ng

---

## 2.1 Thá»±c hiá»‡n trinh sÃ¡t phÃ¡t hiá»‡n rÃ² rá»‰ thÃ´ng tin báº±ng cÃ´ng cá»¥ tÃ¬m kiáº¿m:

#### ğŸ¯ Má»¥c tiÃªu
XÃ¡c Ä‘á»‹nh thÃ´ng tin thiáº¿t káº¿ vÃ  cáº¥u hÃ¬nh nháº¡y cáº£m nÃ o cá»§a á»©ng dá»¥ng, há»‡ thá»‘ng hoáº·c tá»• chá»©c Ä‘Æ°á»£c tiáº¿t lá»™ trá»±c tiáº¿p (trÃªn trang web cá»§a tá»• chá»©c) hoáº·c giÃ¡n tiáº¿p (thÃ´ng qua dá»‹ch vá»¥ cá»§a bÃªn thá»© ba).

---

### ğŸ› ï¸ CÃ´ng cá»¥ sá»­ dá»¥ng:

- **Shodan**
- **Google Dorks**
- **dnsdumpster**

---

### ğŸ” Truy váº¥n Shodan Ä‘á»ƒ tÃ¬m host liÃªn quan Ä‘áº¿n Netflix:

```
hostname:"netflix.com"
org:"Netflix"
ssl.cert.subject.CN:"*.netflix.com"
```

#### ğŸ“Œ Káº¿t quáº£:

- **Háº¡ táº§ng phÃ¢n tÃ¡n:** CÃ¡c IP Ä‘áº¿n tá»« nhiá»u khu vá»±c (Má»¹, TÃ¢y Ban Nha), chá»©ng tá» Netflix sá»­ dá»¥ng CDN vÃ  mÃ¡y chá»§ toÃ n cáº§u.
- **KhÃ´ng cÃ³ thÃ´ng tin nháº¡y cáº£m:** MÃ¡y chá»§ tráº£ vá» 404, chá»‰ tiáº¿t lá»™ thÃ´ng tin cÆ¡ báº£n nhÆ° server, chá»©ng chá»‰ SSL.
- **Báº£o máº­t tá»‘t:** Sá»­ dá»¥ng chá»©ng chá»‰ SSL há»£p lá»‡, há»— trá»£ giao thá»©c HTTPS hiá»‡n Ä‘áº¡i (TLS 1.3).
- **Ã nghÄ©a:** DÃ¹ng Ä‘á»ƒ xÃ¡c Ä‘á»‹nh háº¡ táº§ng, vá»‹ trÃ­ Ä‘á»‹a lÃ½ mÃ¡y chá»§, khÃ´ng pháº£i tÃ¬m lá»— há»•ng trá»±c tiáº¿p.

---

#### ğŸ“ Má»™t sá»‘ Google Dorks Ä‘Ã£ sá»­ dá»¥ng:

```
site:netflix.com "network diagram"
site:netflix.com "architecture diagram"
site:netflix.com filetype:pdf "network"
site:netflix.com filetype:vsd
site:netflix.com "internal use only"
```

#### ğŸ“Œ Káº¿t quáº£:

- **Netflix sá»­ dá»¥ng CDN riÃªng (Open Connect):**  
  KhÃ´ng hoÃ n toÃ n phá»¥ thuá»™c bÃªn thá»© ba, tá»± quáº£n lÃ½ há»‡ thá»‘ng CDN.
- **Kiáº¿n trÃºc máº¡ng phÃ¢n tÃ¡n:**  
  ÄÆ°a ná»™i dung Ä‘áº¿n gáº§n ngÆ°á»i dÃ¹ng thÃ´ng qua mÃ¡y chá»§ chuyÃªn dá»¥ng vÃ  cÆ¡ cháº¿ Ä‘iá»u phá»‘i thÃ´ng minh.
- **TÃ i liá»‡u cÃ´ng khai:**  
  GiÃºp hiá»ƒu há»‡ thá»‘ng CDN cá»§a Netflix, nhÆ°ng khÃ´ng tiáº¿t lá»™ thÃ´ng tin nháº¡y cáº£m.

---

### ğŸŒ Thu tháº­p subdomain â†’ hiá»ƒu rÃµ kiáº¿n trÃºc há»‡ thá»‘ng

![Subdomains Netflix](https://github.com/My-Tien1611/InformationGathering_LeThiMyTien_2/blob/09718a7a70eaef5bd2084b686b65942c05b6fd69/SubdomainsNetflix.jpg)

#### ğŸ“Œ Káº¿t quáº£ phÃ¢n tÃ­ch:

- **Háº¡ táº§ng hybrid:**  
  Káº¿t há»£p giá»¯a há»‡ thá»‘ng riÃªng cá»§a Netflix (ASN 40027) vÃ  háº¡ táº§ng cloud cá»§a AWS (CloudFront, EC2).
- **CDN phÃ¢n tÃ¡n:**  
  Sá»­ dá»¥ng Open Connect Ä‘á»ƒ truyá»n táº£i video, CloudFront cho web services.
- **PhÃ¢n tÃ¡ch mÃ´i trÆ°á»ng rÃµ rÃ ng:**  
  CÃ³ subdomain riÃªng cho:
  - Production
  - Test/dev
  - B2B
  - Marketing
- **Proxy & báº£o máº­t:**  
  DÃ¹ng HTTPS, reverse proxy (Nginx, Envoy), báº£o máº­t nhiá»u lá»›p.
- **Cáº¥u trÃºc subdomain pháº£n Ã¡nh chá»©c nÄƒng dá»‹ch vá»¥:**  
  VÃ­ dá»¥: quáº£ng cÃ¡o (`ads.`), API ná»™i bá»™ (`api.`), cáº£nh bÃ¡o (`alerts.`), DVD, thá»­ nghiá»‡m,...

âœ… **Tá»•ng káº¿t:**  
Kiáº¿n trÃºc giÃºp Netflix Ä‘áº¡t hiá»‡u suáº¥t cao, dá»… má»Ÿ rá»™ng vÃ  Ä‘áº£m báº£o an toÃ n á»Ÿ quy mÃ´ toÃ n cáº§u.

---

#### ğŸ“ Truy váº¥n Google Dork:

```
site:juice-shop.herokuapp.com intext:@
site:juice-shop.herokuapp.com admin
```

#### ğŸ“Œ Káº¿t quáº£:

- TÃ¬m Ä‘Æ°á»£c 2 file:
  - `access.log.2025-08-04`
  - `audit.json`

- CÃ¡c dÃ²ng log cÃ³ `POST /rest/user/login` pháº£n há»“i `HTTP 200 OK` â†’ tiáº¿t lá»™ thÃ´ng tin Ä‘Äƒng nháº­p:

| # | Email                | Vai trÃ² (theo Juice Shop)                 |
|---|----------------------|--------------------------------------------|
| 1 | `admin@juice-sh.op`  | **Admin (quáº£n trá»‹ viÃªn chÃ­nh)**           |
| 2 | `jim@juice-sh.op`    | NhÃ¢n viÃªn (customer support)              |
| 3 | `bender@juice-sh.op` | NhÃ¢n viÃªn (bot / tester)                  |
| 4 | `ciso@juice-sh.op`   | Chief Information Security Officer (CISO) |
| 5 | `emma@juice-sh.op`   | NhÃ¢n viÃªn (customer support)              |

---

### ğŸ›¡ï¸ CÃ¡ch kháº¯c phá»¥c Ä‘á» xuáº¥t:

1. **KhÃ´ng Ä‘Äƒng cÃ´ng khai tÃ i liá»‡u nháº¡y cáº£m:**  
   - Äáº·c biá»‡t lÃ  sÆ¡ Ä‘á»“ kiáº¿n trÃºc máº¡ng, tÃ i liá»‡u ká»¹ thuáº­t, file cáº¥u hÃ¬nh...

2. **RÃ  soÃ¡t Ä‘á»‹nh ká»³:**  
   - Kiá»ƒm tra Ä‘á»‹nh ká»³ cÃ¡c cÃ´ng cá»¥ tÃ¬m kiáº¿m, GitHub, cloud storageâ€¦ Ä‘á»ƒ Ä‘áº£m báº£o khÃ´ng lá»™ thÃ´ng tin ngoÃ i Ã½ muá»‘n.

---
> ## 2.2 ğŸ§¬ MÃ¡y chá»§ web vÃ¢n tay

---

### ğŸ“Œ 2.2.1 Má»¥c tiÃªu kiá»ƒm tra

XÃ¡c Ä‘á»‹nh **phiÃªn báº£n vÃ  loáº¡i mÃ¡y chá»§ web** Ä‘ang cháº¡y nháº±m phÃ¡t hiá»‡n cÃ¡c **lá»— há»•ng báº£o máº­t Ä‘Ã£ biáº¿t**.

---

### âš™ï¸ 2.2.2 CÃ¡c bÆ°á»›c thá»±c hiá»‡n

---

#### ğŸ” **BÆ°á»›c 1: Sá»­ dá»¥ng `netcat` Ä‘á»ƒ thu tháº­p thÃ´ng tin tiÃªu Ä‘á» HTTP**

```bash
# Kiá»ƒm tra HEAD request
nc testphp.vulnweb.com 80
HEAD / HTTP/1.0

# Káº¿t quáº£:
HTTP/1.1 200 OK
Server: nginx/1.19.0
Date: Mon, 04 Aug 2025 07:28:28 GMT
Content-Type: text/html; charset=UTF-8
Connection: close
X-Powered-By: PHP/5.6.40-38+ubuntu20.04.1+deb.sury.org+1
```

```bash
# Kiá»ƒm tra phÆ°Æ¡ng thá»©c bá»‹ cháº·n
nc testphp.vulnweb.com 80
DELETE / HTTP/1.0

# Káº¿t quáº£:
HTTP/1.1 405 Not Allowed
...
<center>nginx/1.19.0</center>
```

```bash
# Kiá»ƒm tra phiÃªn báº£n HTTP khÃ´ng Ä‘Æ°á»£c há»— trá»£
nc testphp.vulnweb.com 80
GET / HTTP/3.0

# Káº¿t quáº£:
HTTP/1.1 505 HTTP Version Not Supported
...
<center>nginx/1.19.0</center>
```

---

#### ğŸ“Œ PhÃ¢n tÃ­ch káº¿t quáº£

- **MÃ¡y chá»§:** `nginx/1.19.0` â€“ phiÃªn báº£n cÅ© (phÃ¡t hÃ nh tá»« nÄƒm 2020)
- **Ná»n táº£ng:** `PHP/5.6.40` â€“ Ä‘Ã£ háº¿t vÃ²ng Ä‘á»i, tiá»m áº©n rá»§i ro báº£o máº­t cao
- **Giao thá»©c há»— trá»£:** HTTP/1.0 vÃ  HTTP/1.1 (khÃ´ng há»— trá»£ HTTP/3.0)
- **PhÆ°Æ¡ng thá»©c DELETE:** bá»‹ cháº·n (405 Not Allowed) â†’ cáº¥u hÃ¬nh háº¡n cháº¿ phÆ°Æ¡ng thá»©c nguy hiá»ƒm
- âœ… **Nháº­n Ä‘á»‹nh:** Há»‡ thá»‘ng dÃ¹ng cÃ´ng nghá»‡ lá»—i thá»i, cáº§n **nÃ¢ng cáº¥p pháº§n má»m vÃ  cáº¥u hÃ¬nh** Ä‘á»ƒ Ä‘áº£m báº£o báº£o máº­t vÃ  hiá»‡u suáº¥t.

---

#### ğŸ§ª **BÆ°á»›c 2: Sá»­ dá»¥ng cÃ´ng cá»¥ quÃ©t tá»± Ä‘á»™ng â€“ [Netcraft](https://www.netcraft.com)**

---

##### ğŸŒ **MÃ¡y chá»§ & háº¡ táº§ng lÆ°u trá»¯**

- **Há»‡ Ä‘iá»u hÃ nh (OS):** Debian Linux
- **Cloud Provider:** AWS EC2
- **IP:** `44.228.249.3`
- **ASN:** `AS16509 (Amazon.com, Inc.)`
- **Reverse DNS:** `ec2-44-228-249-3.us-west-2.compute.amazonaws.com`
- **Vá»‹ trÃ­ server:** US West (Oregon)

---

##### ğŸ§© **CÃ´ng nghá»‡ mÃ¡y chá»§ (Server-side)**

| ThÃ nh pháº§n             | ThÃ´ng tin                             |
|------------------------|----------------------------------------|
| PHP                   | CÃ³ há»— trá»£ vÃ  Ä‘ang cháº¡y                |
| Doctype               | HTML                                  |
| Encoding              | ISO-8859-2 (Eastern European Latin)   |
| HTTP Compression      | Gzip                                  |
| HTTPS                 | âŒ KhÃ´ng há»— trá»£ SSL/TLS               |

---

##### ğŸ§  **CÃ´ng nghá»‡ phÃ­a client (Client-side)**

- **Adobe Flash:** CÃ³ sá»­ dá»¥ng (nguy cÆ¡ RCE cao)
- **JavaScript:** ÄÆ°á»£c sá»­ dá»¥ng Ä‘á»ƒ táº¡o ná»™i dung Ä‘á»™ng trÃªn website

---

##### ğŸ” **Cáº¥u hÃ¬nh báº£o máº­t liÃªn quan Ä‘áº¿n email**

| ChÃ­nh sÃ¡ch           | Tráº¡ng thÃ¡i  |
|----------------------|-------------|
| SPF Record           | âŒ KhÃ´ng cÃ³ |
| DMARC Record         | âŒ KhÃ´ng cÃ³ |

---

##### ğŸ“ **ThÃ´ng tin khÃ¡c**

- **Hosting:** Amazon (US West)
- **Registrar:** eurodns.com
- **Nameserver:** `ns1.eurodns.com`
- **Tá»• chá»©c:** Acunetix Limited (Malta)
- **TiÃªu Ä‘á» trang:** *Home of Acunetix Art*
- **NgÃ´n ngá»¯ chÃ­nh:** English

---

### ğŸ›¡ï¸ 2.2.3 CÃ¡ch kháº¯c phá»¥c Ä‘á» xuáº¥t

- ğŸ•µï¸â€â™‚ï¸ **Che giáº¥u thÃ´ng tin mÃ¡y chá»§ web** (sá»­ dá»¥ng mÃ´-Ä‘un nhÆ° `mod_headers` cá»§a Apache)
- ğŸ” **Sá»­ dá»¥ng proxy ngÆ°á»£c (reverse proxy)** Ä‘á»ƒ thÃªm lá»›p báº£o máº­t giá»¯a Internet vÃ  web server
- â« **ThÆ°á»ng xuyÃªn cáº­p nháº­t** pháº§n má»m, báº£n vÃ¡ báº£o máº­t cá»§a web server vÃ  PHP
---
> ## 2.3 ğŸ—‚ï¸ Kiá»ƒm tra cÃ¡c tá»‡p siÃªu dá»¯ liá»‡u Ä‘á»ƒ tÃ¬m rÃ² rá»‰ thÃ´ng tin

---

### ğŸ“Œ 2.3.1 Má»¥c tiÃªu kiá»ƒm tra

- XÃ¡c Ä‘á»‹nh cÃ¡c **Ä‘Æ°á»ng dáº«n áº©n** hoáº·c bá»‹ che khuáº¥t thÃ´ng qua viá»‡c phÃ¢n tÃ­ch cÃ¡c tá»‡p siÃªu dá»¯ liá»‡u.
- TrÃ­ch xuáº¥t vÃ  láº­p báº£n Ä‘á»“ cÃ¡c thÃ´ng tin cÃ³ thá»ƒ giÃºp hiá»ƒu rÃµ hÆ¡n vá» **há»‡ thá»‘ng ná»™i bá»™** cá»§a mÃ¡y chá»§.

---

### âš™ï¸ 2.3.2 CÃ¡c bÆ°á»›c thá»±c hiá»‡n

---

#### ğŸ” **BÆ°á»›c 1: PhÃ¢n tÃ­ch tá»‡p `robots.txt`**

ğŸ“„ **URL kiá»ƒm tra:**  
`https://juice-shop.herokuapp.com/robots.txt`

```txt
User-agent: *
Disallow: /ftp
```

**Ã nghÄ©a:**

- `User-agent: *` â†’ Ãp dá»¥ng cho táº¥t cáº£ cÃ¡c bot tÃ¬m kiáº¿m.
- `Disallow: /ftp` â†’ Cáº¥m bot truy cáº­p vÃ o thÆ° má»¥c `/ftp`, **gá»£i Ã½ vá» vÃ¹ng nháº¡y cáº£m**.

â¡ï¸ **Tiáº¿n hÃ nh kiá»ƒm tra trá»±c tiáº¿p:**  
ğŸ”— [`https://juice-shop.herokuapp.com/ftp`](https://juice-shop.herokuapp.com/ftp)  
![image alt](https://github.com/My-Tien1611/InformationGathering_LeThiMyTien_2/blob/3ddd45070efcc5d578066607ca075659854f65e3/ftp.jpg)

ğŸ“‚ **Káº¿t quáº£: Directory Listing Ä‘ang báº­t**

- Cho phÃ©p xem **toÃ n bá»™ ná»™i dung thÆ° má»¥c /ftp**.
- CÃ³ thá»ƒ táº£i xuá»‘ng cÃ¡c file chá»©a **dá»¯ liá»‡u nháº¡y cáº£m** nhÆ°:
  - `incident-support.kdbx`: CÃ³ thá»ƒ lÃ  file KeePass (máº­t kháº©u Ä‘Æ°á»£c mÃ£ hÃ³a).
  - `package.json.bak`, `package-lock.json.bak`: File backup â€“ dá»… lá»™ **dependency & scripts**.
  - `announcement_encrypted.md`, `encrypt.pyc`: Gá»£i Ã½ ná»™i dung **bá»‹ mÃ£ hÃ³a hoáº·c áº©n**.
  - `coupons_2013.md.bak`: CÃ³ thá»ƒ chá»©a **mÃ£ giáº£m giÃ¡ cÅ©** hoáº·c thÃ´ng tin marketing.
  - ThÆ° má»¥c `quarantine/`: CÃ³ thá»ƒ chá»©a **file bá»‹ nghi ngá»/phÃ¡t hiá»‡n rá»§i ro**.

---

#### ğŸ§ª **BÆ°á»›c 2: PhÃ¢n tÃ­ch vá»›i Burp Suite**

âœ… Trang thá»­ nghiá»‡m: **About Us**

ğŸ“Œ **PhÃ¡t hiá»‡n endpoint tiá»m nÄƒng:** `/ftp/legal.md`  
â†’ CÃ³ thá»ƒ tháº¥y khi duyá»‡t web hoáº·c thÃ´ng qua Burp Suite (HTTP history).

![image alt](https://github.com/My-Tien1611/InformationGathering_LeThiMyTien_2/blob/c6e39f53d053deeafeb9042377ca67a9acb029df/Screenshot%20(1305).png)

- Nháº¥n forward. Táº¥t cáº£ cÃ¡c tiáº¿n trÃ¬nh yÃªu cáº§u tá»« trÃ¬nh duyá»‡t mÃ¡y khÃ¡ch Ä‘áº¿n mÃ¡y chá»§ sáº½ Ä‘Æ°á»£c ghi láº¡i trÃªn HTTP history. TÃ¬m Ä‘á»‹a chá»‰ trong cá»™t URL vÃ  chá»n Send to Repeater

![image alt](https://github.com/My-Tien1611/InformationGathering_LeThiMyTien_2/blob/d88811f7310e36694ba372eaa0530389870f8b4a/Screenshot%20(1308).png)

ğŸ“ **Káº¿t quáº£:**  
Directory Listing hiá»ƒn thá»‹ cÃ¡c file:

- `acquisitions.md`
- `announcement_encrypted.md`
- `encrypt.pyc`
- `coupons_2013.md.bak`
- ...

ğŸ›‘ â†’ ÄÃ¢y lÃ  má»™t lá»— há»•ng báº£o máº­t dáº¡ng **Directory Browsing / Insecure Direct Object Reference (IDOR)**  
â†’ Attacker cÃ³ thá»ƒ tháº¥y **toÃ n bá»™ file** mÃ  **khÃ´ng cáº§n xÃ¡c thá»±c**.

![Directory Listing trong Burp](https://github.com/My-Tien1611/InformationGathering_LeThiMyTien_2/blob/3eb1fa42df50ef264326e5abcb48e2054636ffbc/Screenshot%20(1310).png)

---

ğŸ“¥ **Gá»­i yÃªu cáº§u GET Ä‘áº¿n file cá»¥ thá»ƒ:** `/ftp/acquisitions.md`

ğŸ§¾ Pháº£n há»“i:  
```txt
** This document is confidential! Do not distribute! **
```

âœ… ÄÃ£ truy xuáº¥t thÃ nh cÃ´ng **tÃ i liá»‡u máº­t** nhá» vÃ o lá»— há»•ng Directory Listing.

![Khai thÃ¡c file nháº¡y cáº£m](https://github.com/My-Tien1611/InformationGathering_LeThiMyTien_2/blob/4af444353f4a4c8641b506612edf5551b5cfbf24/Screenshot%20(1311).png)

---

> ## 2.4 ğŸŒ Liá»‡t kÃª cÃ¡c á»©ng dá»¥ng trÃªn mÃ¡y chá»§ web

---

### ğŸ“Œ 2.4.1 Má»¥c tiÃªu kiá»ƒm tra

- Liá»‡t kÃª cÃ¡c á»©ng dá»¥ng Ä‘ang tá»“n táº¡i vÃ  hoáº¡t Ä‘á»™ng trÃªn **mÃ¡y chá»§ web má»¥c tiÃªu**.

---

### âš™ï¸ 2.4.2 CÃ¡c bÆ°á»›c kiá»ƒm tra

---

#### ğŸ›°ï¸ **BÆ°á»›c 1: QuÃ©t dá»‹ch vá»¥ báº±ng Nmap**

ğŸ”§ **Lá»‡nh:**  
```bash
nmap testphp.vulnweb.com
```

ğŸ–¥ï¸ **Káº¿t quáº£:**
```
PORT   STATE SERVICE
80/tcp open  http
```

ğŸ“Œ **PhÃ¢n tÃ­ch:**

- Chá»‰ cÃ³ cá»•ng **80 (HTTP)** Ä‘Æ°á»£c má»Ÿ â†’ Há»‡ thá»‘ng cá»‘ tÃ¬nh **giá»›i háº¡n bá» máº·t táº¥n cÃ´ng**.
- **KhÃ´ng sá»­ dá»¥ng HTTPS** â†’ CÃ³ thá»ƒ bá»‹ táº¥n cÃ´ng **sniffing / MITM** trÃªn mÃ´i trÆ°á»ng khÃ´ng an toÃ n.

---

#### ğŸ” **Hiá»ƒn thá»‹ banner dá»‹ch vá»¥**

ğŸ”§ **Lá»‡nh:**  
```bash
nmap -sV testphp.vulnweb.com
```

ğŸ–¥ï¸ **Káº¿t quáº£:**
```
80/tcp open  tcpwrapped
```

ğŸ“Œ **PhÃ¢n tÃ­ch:**

- Káº¿t quáº£ lÃ  `tcpwrapped` â†’ MÃ¡y chá»§ **tá»« chá»‘i hoáº·c che giáº¥u banner**, khÃ´ng cho phÃ©p Nmap láº¥y thÃ´ng tin dá»‹ch vá»¥.

---

#### ğŸ“¡ **BÆ°á»›c 2: Liá»‡t kÃª á»©ng dá»¥ng báº±ng Netcat**

ğŸ”§ **Lá»‡nh:**
```bash
nc testphp.vulnweb.com 80
GET / HTTP/1.1
Host: testphp.vulnweb.com
```

ğŸ–¥ï¸ **Káº¿t quáº£:**
```
HTTP/1.1 200 OK
Server: nginx/1.19.0
Date: Mon, 04 Aug 2025 16:36:06 GMT
Content-Type: text/html; charset=UTF-8
Transfer-Encoding: chunked
Connection: keep-alive
X-Powered-By: PHP/5.6.40-38+ubuntu20.04.1+deb.sury.org+1
```

ğŸ“Œ **PhÃ¢n tÃ­ch:**

- âœ… **Pháº£n há»“i HTTP 200 OK** â†’ á»¨ng dá»¥ng hoáº¡t Ä‘á»™ng bÃ¬nh thÆ°á»ng.
- ğŸŒ **Web Server:** `nginx/1.19.0`
- ğŸ’» **NgÃ´n ngá»¯ mÃ¡y chá»§:** `PHP/5.6.40`
- ğŸ§ **Há»‡ Ä‘iá»u hÃ nh:** `Ubuntu 20.04` (suy ra tá»« chuá»—i `.deb.sury.org`)
- ğŸ” **Transfer-Encoding:** `chunked` â†’ Truyá»n dá»¯ liá»‡u theo tá»«ng pháº§n.

---

#### ğŸ“¬ **BÆ°á»›c 3: Tra cá»©u DNS**

ğŸ”§ **Lá»‡nh:**  
```bash
nslookup testphp.vulnweb.com
```

ğŸ–¥ï¸ **Káº¿t quáº£:**
```
Name:   testphp.vulnweb.com
Address: 44.228.249.3
```

ğŸ“Œ **PhÃ¢n tÃ­ch:**

- TÃªn miá»n `testphp.vulnweb.com` Ã¡nh xáº¡ tá»›i Ä‘á»‹a chá»‰ IP `44.228.249.3`.
- Truy váº¥n DNS Ä‘i qua **DNS ná»™i bá»™** (`192.168.198.2`) vÃ  lÃ  **non-authoritative**.

---

#### ğŸ” **BÆ°á»›c 4: Tra cá»©u tÃªn miá»n ngÆ°á»£c**

ğŸŒ **DÃ¹ng cÃ´ng cá»¥:** `viewdns.info`

ğŸ“Œ **Káº¿t quáº£:**

- Chá»‰ duy nháº¥t 1 tÃªn miá»n Ä‘Æ°á»£c host trÃªn mÃ¡y chá»§ nÃ y:  
  â†’ `vulnweb.com`

---

#### ğŸ§­ **BÆ°á»›c 5: XÃ¡c Ä‘á»‹nh mÃ¡y chá»§ Ä‘á»‹nh danh (Name Server)**

ğŸ”§ **Lá»‡nh:**
```bash
host -t ns vulnweb.com
```

ğŸ–¥ï¸ **Káº¿t quáº£:**
```
vulnweb.com name server ns1.eurodns.com.
vulnweb.com name server ns2.eurodns.com.
vulnweb.com name server ns3.eurodns.com.
vulnweb.com name server ns4.eurodns.com.
```

ğŸ“Œ **PhÃ¢n tÃ­ch:**

- Há»‡ thá»‘ng sá»­ dá»¥ng dá»‹ch vá»¥ **DNS phÃ¢n tÃ¡n** tá»« **EuroDNS** vá»›i 4 mÃ¡y chá»§ Ä‘á»‹nh danh:
  - `ns1.eurodns.com`
  - `ns2.eurodns.com`
  - `ns3.eurodns.com`
  - `ns4.eurodns.com`

---
> ## 2.5 ğŸ•µï¸â€â™‚ï¸ Kiá»ƒm tra ná»™i dung trang web Ä‘á»ƒ phÃ¡t hiá»‡n rÃ² rá»‰ thÃ´ng tin

---

### ğŸ“Œ 2.5.1 Má»¥c tiÃªu kiá»ƒm tra

- Xem xÃ©t **bÃ¬nh luáº­n trong mÃ£ nguá»“n HTML** vÃ  **siÃªu dá»¯ liá»‡u** Ä‘á»ƒ tÃ¬m cÃ¡c thÃ´ng tin rÃ² rá»‰.
- PhÃ¢n tÃ­ch cÃ¡c **tá»‡p JavaScript** Ä‘á»ƒ tÃ¬m cÃ¡c thÃ´ng tin nháº¡y cáº£m, chá»©c nÄƒng áº©n hoáº·c endpoint API ná»™i bá»™.
- Kiá»ƒm tra sá»± tá»“n táº¡i cá»§a **tá»‡p báº£n Ä‘á»“ nguá»“n** (`.map`) hoáº·c **tá»‡p gá»¡ lá»—i**, giÃºp tÃ¡i cáº¥u trÃºc mÃ£ gá»‘c hoáº·c hiá»ƒu sÃ¢u logic á»©ng dá»¥ng.

---

### âš™ï¸ 2.5.2 CÃ¡c bÆ°á»›c thá»±c hiá»‡n: Sá»­ dá»¥ng BurpSuite

---

#### ğŸ§ª **PhÃ¡t hiá»‡n tÃ i khoáº£n máº·c Ä‘á»‹nh**

- Trang web **cÃ´ng khai username vÃ  password máº·c Ä‘á»‹nh**:
  ```
  Username: test
  Password: test
  ```
![TÃ i khoáº£n cÃ´ng khai](https://github.com/My-Tien1611/InformationGathering_LeThiMyTien_2/blob/ca53c7ed3b6bc641fd20b4908ec541c052617c85/Thongttindn.jpg)
- ğŸ“Œ **Rá»§i ro:** ThÃ´ng tin dá»… bá»‹ khai thÃ¡c bá»Ÿi attacker thÃ´ng qua brute-force hoáº·c login tá»± Ä‘á»™ng.
---

#### ğŸ§µ **PhÃ¢n tÃ­ch comment HTML**

- MÃ£ nguá»“n HTML cÃ³ chá»©a **comment ná»™i bá»™ tiáº¿t lá»™ cáº¥u trÃºc template** hoáº·c tÃªn biáº¿n sá»­ dá»¥ng bÃªn trong server.

![Comment rÃ² rá»‰ thÃ´ng tin](https://github.com/My-Tien1611/InformationGathering_LeThiMyTien_2/blob/26b8836a962545277d5f1a1a029aba30142e050a/Screenshot%20(1298).png)

ğŸ“Œ **Rá»§i ro:** Nhá»¯ng thÃ´ng tin nÃ y giÃºp attacker hiá»ƒu rÃµ cáº¥u trÃºc ná»™i bá»™ â†’ dá»… khai thÃ¡c táº¥n cÃ´ng chÃ­nh xÃ¡c (targeted injection, template injection, SSRF, etc.).

---

#### ğŸ“® **PhÃ¢n tÃ­ch Form vÃ  Endpoint**

- MÃ£ HTML chá»©a form Ä‘Äƒng nháº­p nhÆ° sau:
  ```html
  <form name="loginform" method="post" action="userinfo.php">
  ```

ğŸ“Œ **PhÃ¢n tÃ­ch:**

- ğŸ› ï¸ **Endpoint:** `userinfo.php` lÃ  Ä‘Ã­ch Ä‘áº¿n cá»§a dá»¯ liá»‡u Ä‘Äƒng nháº­p â†’ cáº§n kiá»ƒm tra ká»¹ cho cÃ¡c lá»— há»•ng nhÆ°:
  - **Brute-force login**
  - **SQL injection (SQLi)**
  - **Credential Stuffing**
- ğŸ§© **Biáº¿n thá»ƒ POST + JS:** Khi káº¿t há»£p vá»›i cÃ¡c tá»‡p JavaScript Ä‘Æ°á»£c táº£i, attacker cÃ³ thá»ƒ tÃ¡i cáº¥u trÃºc logic xÃ¡c thá»±c vÃ  viáº¿t tool tá»± Ä‘á»™ng Ä‘Äƒng nháº­p/thá»­ tÃ i khoáº£n.

---

> ## 2.6 ğŸ¯ XÃ¡c Ä‘á»‹nh Ä‘iá»ƒm vÃ o á»©ng dá»¥ng

---

### ğŸ“Œ 2.6.1 Má»¥c tiÃªu kiá»ƒm tra

- XÃ¡c Ä‘á»‹nh cÃ¡c Ä‘iá»ƒm xÃ¢m nháº­p vÃ  Ä‘iá»ƒm tiÃªm nhiá»…m cÃ³ thá»ƒ xáº£y ra thÃ´ng qua phÃ¢n tÃ­ch yÃªu cáº§u vÃ  pháº£n há»“i.

---

### ğŸ§ª 2.6.2 CÃ¡c bÆ°á»›c thá»±c hiá»‡n

---

#### ğŸ› ï¸ **XÃ¡c Ä‘á»‹nh cÃ¡c phÆ°Æ¡ng thá»©c HTTP**

1. **PhÆ°Æ¡ng thá»©c POST** â€“ khi ngÆ°á»i dÃ¹ng **gá»­i dá»¯ liá»‡u** Ä‘áº¿n mÃ¡y chá»§:
   - Dá»¯ liá»‡u náº±m trong **body** cá»§a request:
     ```
     searchFor=hello&goButton=go
     ```
   - ğŸ” POST thÆ°á»ng Ä‘Æ°á»£c dÃ¹ng khi:
     - Gá»­i form (Ä‘Äƒng nháº­p, tÃ¬m kiáº¿m, Ä‘Äƒng kÃ½, pháº£n há»“i, v.v.)
     - TrÃ¡nh hiá»ƒn thá»‹ dá»¯ liá»‡u nháº¡y cáº£m trÃªn URL
     - Truyá»n dá»¯ liá»‡u lá»›n hoáº·c chá»©a thÃ´ng tin riÃªng tÆ°

   ![PhÆ°Æ¡ng thá»©c POST](https://github.com/My-Tien1611/InformationGathering_LeThiMyTien_2/blob/d84204b6e8d3a136f5f614319c41ecc13af8ebe9/POST.jpg)

---

2. **PhÆ°Æ¡ng thá»©c GET** â€“ khi ngÆ°á»i dÃ¹ng **yÃªu cáº§u dá»¯ liá»‡u** tá»« server (thÆ°á»ng lÃ  xem ná»™i dung trang web):
   - KhÃ´ng cÃ³ dá»¯ liá»‡u trong body.
   - Dá»¯ liá»‡u (náº¿u cÃ³) Ä‘Æ°á»£c truyá»n thÃ´ng qua **URL query string**:
     ```
     /page.php?id=3
     ```
   - ğŸ” GET thÆ°á»ng Ä‘Æ°á»£c dÃ¹ng khi:
     - Truy cáº­p dá»¯ liá»‡u hoáº·c táº£i ná»™i dung tÄ©nh
     - Duyá»‡t trang, theo liÃªn káº¿t
     - KhÃ´ng thay Ä‘á»•i tráº¡ng thÃ¡i há»‡ thá»‘ng

   ![PhÆ°Æ¡ng thá»©c GET](https://github.com/My-Tien1611/InformationGathering_LeThiMyTien_2/blob/530206f8fdf7aeece16b83d65a8a3e46aea021bd/GET.png)

---

### âœ… Tá»•ng káº¿t

> Viá»‡c xÃ¡c Ä‘á»‹nh Ä‘iá»ƒm vÃ o cá»§a á»©ng dá»¥ng (entry points) lÃ  bÆ°á»›c **cá»‘t lÃµi trong quÃ¡ trÃ¬nh Ä‘Ã¡nh giÃ¡ báº£o máº­t web**. CÃ¡c Ä‘iá»ƒm sá»­ dá»¥ng phÆ°Æ¡ng thá»©c GET vÃ  POST thÆ°á»ng lÃ  **nÆ¡i cÃ³ thá»ƒ thá»­ cÃ¡c payload khai thÃ¡c**, nhÆ°:
>
> - **XSS (Cross-Site Scripting)**
> - **SQLi (SQL Injection)**
> - **Command Injection**
> - **LFI/RFI (File Inclusion)**
> - **Privilege Escalation**

Viá»‡c sá»­ dá»¥ng **BurpSuite, proxy hoáº·c cÃ´ng cá»¥ phÃ¢n tÃ­ch HTTP** giÃºp kiá»ƒm tra rÃµ rÃ ng vÃ  ghi nháº­n chÃ­nh xÃ¡c cÃ¡c endpoint cÃ³ thá»ƒ bá»‹ khai thÃ¡c.

---
## 2.7 ğŸ—ºï¸ Thá»±c thi Ä‘Æ°á»ng dáº«n thÃ´ng qua á»©ng dá»¥ng

---

### ğŸ¯ 2.7.1 Má»¥c tiÃªu kiá»ƒm tra

- Láº­p báº£n Ä‘á»“ (mapping) toÃ n bá»™ á»©ng dá»¥ng web má»¥c tiÃªu.
- Hiá»ƒu cÃ¡c **luá»“ng xá»­ lÃ½ chÃ­nh** (workflow) vÃ  **Ä‘iá»ƒm Ä‘iá»u hÆ°á»›ng quan trá»ng** trong há»‡ thá»‘ng.

---

### ğŸ§ª 2.7.2 CÃ¡c bÆ°á»›c thá»±c hiá»‡n

---

#### ğŸ” BÆ°á»›c 1: ThÃªm vÃ o Scope vÃ  khá»Ÿi Ä‘á»™ng Spider

- VÃ o **tab Target â†’ Site Map â†’ URL view** cá»§a BurpSuite.
- Chá»n host `testphp.vulnweb.com` Ä‘á»ƒ xem chi tiáº¿t cáº¥u trÃºc vÃ  pháº£n há»“i tá»«ng endpoint.

![Spider Scope](https://github.com/My-Tien1611/InformationGathering_LeThiMyTien_2/blob/115c21743e2d383c4f23d0ade2f3ac7c42e44fad/Screenshot%20(1312).png)

**ThÃ´ng tin quan sÃ¡t:**
- **Contents:** Liá»‡t kÃª cÃ¡c URL, phÆ°Æ¡ng thá»©c (GET/POST), tham sá»‘, status code, MIME type, tiÃªu Ä‘á»,...
- **Request / Response:** Hiá»ƒn thá»‹ toÃ n bá»™ ná»™i dung HTTP cá»§a yÃªu cáº§u vÃ  pháº£n há»“i.

---

#### ğŸŒ² BÆ°á»›c 2: Xem cáº¥u trÃºc cÃ¢y Ä‘Æ°á»ng dáº«n (Site Map)

- Sau khi thu tháº­p URL báº±ng Spider hoáº·c duyá»‡t tay (manual browsing), chuyá»ƒn sang **Crawl paths view**.
- Click vÃ o tá»«ng node Ä‘á»ƒ xem chi tiáº¿t cÃ¡c request, issue, vÃ  outlink tÆ°Æ¡ng á»©ng.

![Site Map Tree](https://github.com/My-Tien1611/InformationGathering_LeThiMyTien_2/blob/115c21743e2d383c4f23d0ade2f3ac7c42e44fad/Screenshot%20(1313).png)

**Nháº­n xÃ©t:**
- Burp Ä‘Ã£ mapping Ä‘Æ°á»£c **toÃ n bá»™ cáº¥u trÃºc á»©ng dá»¥ng**.
- CÃ³ cÃ¡c Ä‘Æ°á»ng dáº«n dáº¡ng: `/login`, `/signup`, `/profile`, `/category?id=...`
- Tá»« Ä‘Ã¢y, cÃ³ thá»ƒ xÃ¡c Ä‘á»‹nh cÃ¡c Ä‘iá»ƒm chá»©c nÄƒng quan trá»ng Ä‘á»ƒ phá»¥c vá»¥ khai thÃ¡c nhÆ°:
  - ÄÄƒng nháº­p
  - TÃ¬m kiáº¿m sáº£n pháº©m
  - Quáº£n lÃ½ há»“ sÆ¡
  - Lá»c danh má»¥c, v.v.
- QuÃ¡ trÃ¬nh nÃ y **ráº¥t há»¯u Ã­ch** cho viá»‡c xÃ¡c Ä‘á»‹nh Ä‘iá»ƒm tiÃªm nhiá»…m sau nÃ y (trong giai Ä‘oáº¡n kiá»ƒm thá»­).

---

## 2.8 ğŸ§¬ Khung á»©ng dá»¥ng web â€“ Dáº¥u vÃ¢n tay

---

### ğŸ¯ 2.8.1 Má»¥c tiÃªu kiá»ƒm tra

- XÃ¡c Ä‘á»‹nh **ngÃ´n ngá»¯ láº­p trÃ¬nh**, **há»‡ Ä‘iá»u hÃ nh**, **framework**, **cÃ´ng nghá»‡ frontend/backend** mÃ  á»©ng dá»¥ng Ä‘ang sá»­ dá»¥ng.
- Dá»±a vÃ o cÃ¡c thÃ´ng tin nÃ y Ä‘á»ƒ suy Ä‘oÃ¡n **lá»— há»•ng tiá»m áº©n**.

---

### ğŸ§ª 2.8.2 CÃ¡c bÆ°á»›c thá»±c hiá»‡n

---

#### ğŸ” BÆ°á»›c 1: Fingerprint Web Application Framework

![Framework Info](https://github.com/My-Tien1611/InformationGathering_LeThiMyTien_2/blob/6a8305baca1438013e24cf531fb67c5c008e37ad/Screenshot%20(1314).png)

**Káº¿t quáº£ thu Ä‘Æ°á»£c:**
- **NgÃ´n ngá»¯ phÃ­a server:** PHP
- **PhiÃªn báº£n PHP:** 5.6.40
- **Há»‡ Ä‘iá»u hÃ nh:** Ubuntu 20.04
- **Nguá»“n build:** tá»« kho deb.sury.org

ğŸ”´ **Cáº£nh bÃ¡o:** PhiÃªn báº£n PHP 5.6 Ä‘Ã£ **ngá»«ng há»— trá»£ tá»« lÃ¢u**, ráº¥t nhiá»u lá»— há»•ng nghiÃªm trá»ng cÃ³ thá»ƒ tá»“n táº¡i.

---

#### ğŸ“‚ BÆ°á»›c 2: Fingerprint Web Application

![App Info](https://github.com/My-Tien1611/InformationGathering_LeThiMyTien_2/blob/6a8305baca1438013e24cf531fb67c5c008e37ad/Screenshot%20(1315).png)

**Quan sÃ¡t:**
- Giao diá»‡n lá»—i thá»i, sá»­ dá»¥ng HTML 4.01, Flash, JS cá»• Ä‘iá»ƒn.
- PhÃ¡t triá»ƒn báº±ng pháº§n má»m Adobe Dreamweaver.
- ÄÃ¢y lÃ  má»™t **á»©ng dá»¥ng mÃ´ phá»ng Ä‘á»ƒ thá»±c hÃ nh pentest**, chá»©a cÃ¡c lá»—i báº£o máº­t phá»• biáº¿n nhÆ°:
  - SQLi
  - XSS
  - LFI
  - CSRF
  - Cookie hijacking...

---

#### ğŸ”§ BÆ°á»›c 3: Sá»­ dá»¥ng cÃ´ng cá»¥ Wappalyzer

- Sá»­ dá»¥ng extension Wappalyzer trÃªn trÃ¬nh duyá»‡t Ä‘á»ƒ phÃ¢n tÃ­ch cÃ´ng nghá»‡ web Ä‘ang sá»­ dá»¥ng.

![Wappalyzer](https://github.com/My-Tien1611/InformationGathering_LeThiMyTien_2/blob/cd11cd95739ed8f701b1425df88fc1330033aae2/Screenshot%20(1317).png)

**Káº¿t quáº£:**
- **Web server:** Nginx
- **NgÃ´n ngá»¯ backend:** PHP
- **Client-side:** JavaScript cÅ©
- **Há»‡ thá»‘ng quáº£n lÃ½:** KhÃ´ng cÃ³ CMS (Content Management System)
- CÃ³ nhiá»u Ä‘iá»ƒm dá»… khai thÃ¡c do cÃ´ng nghá»‡ lá»—i thá»i vÃ  thÃ´ng tin rÃ² rá»‰ rÃµ rÃ ng.

---
## 2.9 ğŸ—ºï¸ Kiáº¿n trÃºc á»¨ng dá»¥ng â€“ Báº£n Ä‘á»“

---

### ğŸ¯ 2.9.1 Má»¥c tiÃªu kiá»ƒm tra

- Táº¡o báº£n Ä‘á»“ kiáº¿n trÃºc cá»§a á»©ng dá»¥ng web má»¥c tiÃªu.
- Dá»±a trÃªn thÃ´ng tin thu tháº­p tá»« header, HTTP methods, pháº£n há»“i lá»—i vÃ  cÃ¡c quan sÃ¡t há»‡ thá»‘ng Ä‘á»ƒ xÃ¡c Ä‘á»‹nh thÃ nh pháº§n há»‡ thá»‘ng.

---

### ğŸ§ª 2.9.2 CÃ¡c bÆ°á»›c thá»±c hiá»‡n

---

#### ğŸ“¥ BÆ°á»›c 1: PhÃ¢n tÃ­ch tiÃªu Ä‘á» HTTP

```bash
curl -I https://juice-shop.herokuapp.com/
```

**Káº¿t quáº£:**

```http
HTTP/1.1 200 OK
Accept-Ranges: bytes
Access-Control-Allow-Origin: *
Cache-Control: public, max-age=0
Content-Length: 80117
Content-Type: text/html; charset=UTF-8
Date: Tue, 05 Aug 2025 04:20:22 GMT
Etag: W/"138f5-19878707b21"
Feature-Policy: payment 'self'
Last-Modified: Tue, 05 Aug 2025 04:14:54 GMT
Nel: {...}
Server: Heroku
Via: 1.1 heroku-router
X-Content-Type-Options: nosniff
X-Frame-Options: SAMEORIGIN
```

âœ… **PhÃ¢n tÃ­ch:**
- á»¨ng dá»¥ng Ä‘ang Ä‘Æ°á»£c triá»ƒn khai trÃªn ná»n táº£ng **Heroku (PaaS)**.
- Header `Via: heroku-router` cho tháº¥y cÃ³ sá»­ dá»¥ng **reverse proxy** (máº·c Ä‘á»‹nh cá»§a Heroku).
- Cho phÃ©p truy cáº­p tá»« má»i domain (`Access-Control-Allow-Origin: *`).
- Header `X-Content-Type-Options`, `X-Frame-Options` thá»ƒ hiá»‡n má»™t sá»‘ cáº¥u hÃ¬nh báº£o máº­t cÆ¡ báº£n.
- KhÃ´ng cÃ³ dáº¥u hiá»‡u rÃµ rÃ ng vá» **WAF** (Web Application Firewall).

---

#### ğŸ”§ BÆ°á»›c 2: Kiá»ƒm tra phÆ°Æ¡ng thá»©c HTTP Ä‘Æ°á»£c há»— trá»£

```bash
curl -X OPTIONS https://juice-shop.herokuapp.com/ -i
```

**Káº¿t quáº£:**

```http
HTTP/1.1 204 No Content
Access-Control-Allow-Methods: GET,HEAD,PUT,PATCH,POST,DELETE
Access-Control-Allow-Origin: *
Server: Heroku
Via: 1.1 heroku-router
```

âœ… **PhÃ¢n tÃ­ch:**
- á»¨ng dá»¥ng há»— trá»£ Ä‘áº§y Ä‘á»§ cÃ¡c phÆ°Æ¡ng thá»©c HTTP chuáº©n REST: `GET`, `POST`, `PUT`, `PATCH`, `DELETE`.
- Há»— trá»£ **CORS toÃ n cá»¥c** (Access-Control-Allow-Origin: *) â†’ cÃ³ thá»ƒ gá»i API tá»« báº¥t ká»³ domain nÃ o.
- Cho tháº¥y á»©ng dá»¥ng cÃ³ kháº£ nÄƒng lÃ  **RESTful API backend**.

---

#### ğŸ›¡ï¸ BÆ°á»›c 3: Kiá»ƒm tra Reverse Proxy hoáº·c WAF

```bash
curl "https://juice-shop.herokuapp.com/' OR '1'='1"
```

**Káº¿t quáº£:**
```
curl: (3) URL rejected: Malformed input to a URL function
```

âœ… **PhÃ¢n tÃ­ch:**
- KhÃ´ng tháº¥y thÃ´ng bÃ¡o lá»—i chi tiáº¿t tá»« phÃ­a server.
- KhÃ´ng cÃ³ báº±ng chá»©ng rÃµ rÃ ng ráº±ng cÃ³ sá»­ dá»¥ng **WAF** Ä‘á»ƒ cháº·n payload SQLi.
- Heroku cÃ³ thá»ƒ Ä‘ang xá»­ lÃ½ má»™t sá»‘ lá»—i Ä‘áº§u vÃ o thÃ´ng qua reverse proxy.
- Kháº£ nÄƒng cao lÃ  payload bá»‹ lá»—i á»Ÿ client (curl) do URL malformed, chÆ°a Ä‘áº¿n Ä‘Æ°á»£c app.

---

### ğŸ§± Tá»•ng káº¿t kiáº¿n trÃºc á»©ng dá»¥ng

| ThÃ nh pháº§n          | Chi tiáº¿t                                                                           |
|---------------------|------------------------------------------------------------------------------------|
| **Ná»n táº£ng triá»ƒn khai** | Heroku (PaaS)                                                                    |
| **Reverse Proxy**      | CÃ³ â€“ `Via: heroku-router`                                                        |
| **WAF**                | KhÃ´ng rÃµ rÃ ng â€“ KhÃ´ng tháº¥y dáº¥u hiá»‡u cháº·n payload rÃµ                               |
| **Giao diá»‡n (Frontend)** | Angular Framework                                                              |
| **Backend**            | Node.js + Express (theo tÃ i liá»‡u OWASP Juice Shop)                               |
| **API há»— trá»£**         | RESTful â€“ GET, POST, PUT, PATCH, DELETE                                          |
| **Database**           | CÃ³ â€“ á»¨ng dá»¥ng káº¿t ná»‘i CSDL phá»¥c vá»¥ cho cÃ¡c chá»©c nÄƒng CRUD sáº£n pháº©m, Ä‘Ã¡nh giÃ¡... |
| **CORS**               | Cho phÃ©p toÃ n bá»™ origin (`*`)                                                    |

---

ğŸ” **Káº¿t luáº­n:**  
á»¨ng dá»¥ng OWASP Juice Shop cÃ³ kiáº¿n trÃºc hiá»‡n Ä‘áº¡i vá»›i REST API vÃ  phÃ¢n tÃ¡ch rÃµ frontend/backend. Tuy nhiÃªn:
- Cho phÃ©p má»i origin cÃ³ thá»ƒ lÃ  lá»— há»•ng CORS.
- KhÃ´ng cÃ³ biá»‡n phÃ¡p cháº·n payload rÃµ rÃ ng cÃ³ thá»ƒ dáº«n Ä‘áº¿n nguy cÆ¡ **SQL Injection** náº¿u khÃ´ng xá»­ lÃ½ input Ä‘Ãºng cÃ¡ch.
- LÃ  á»©ng dá»¥ng mÃ´ phá»ng nÃªn cÃ³ chá»§ Ã½ chá»©a nhiá»u lá»—i báº£o máº­t Ä‘á»ƒ phá»¥c vá»¥ kiá»ƒm thá»­.

---


